"use strict";(self.webpackChunk_readyplayerme_visage=self.webpackChunk_readyplayerme_visage||[]).push([[989],{"./src/components/Avatar/Avatar.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Animated:function(){return Animated},HalfBody:function(){return HalfBody},Posing:function(){return Posing},Static:function(){return Static},_DragNDrop:function(){return _DragNDrop},__namedExportsOrder:function(){return __namedExportsOrder}});var _Static$parameters,_Static$parameters2,_Static$parameters2$d,_Animated$parameters,_Animated$parameters2,_Animated$parameters3,_HalfBody$parameters,_HalfBody$parameters2,_HalfBody$parameters3,_Posing$parameters,_Posing$parameters2,_Posing$parameters2$d,_DragNDrop$parameters,_DragNDrop$parameters2,_DragNDrop$parameters3,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),src_services__WEBPACK_IMPORTED_MODULE_1__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/services/index.ts")),three__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/three/build/three.module.js"),src_components_FileDropper_FileDropper_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/FileDropper/FileDropper.component.tsx"),src_services_EnvironmentMap_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/services/EnvironmentMap.service.ts"),_index__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Avatar/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Avatar=function Avatar(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_index__WEBPACK_IMPORTED_MODULE_4__.q,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},args),{},{children:args.children}))},emotions={smile:{eyeSquintLeft:.4,eyeSquintRight:.2,mouthSmileLeft:.37,mouthSmileRight:.36,mouthShrugUpper:.27,browInnerUp:.3,browOuterUpLeft:.37,browOuterUpRight:.49}},Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Avatar,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},args))},Static=Template.bind({});Static.args={modelSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("female.glb"),animationSrc:void 0,poseSrc:void 0,environment:"hub",scale:1,shadows:!0,idleRotation:!1,headMovement:!1,ambientLightColor:"#fff5b6",dirLightColor:"#002aff",spotLightColor:"#fff5b6",ambientLightIntensity:.25,dirLightIntensity:5,spotLightIntensity:1,dirLightPosition:new three__WEBPACK_IMPORTED_MODULE_7__.Vector3(-3,5,-5),spotLightPosition:new three__WEBPACK_IMPORTED_MODULE_7__.Vector3(12,10,7.5),spotLightAngle:.314,cameraZoomTarget:_index__WEBPACK_IMPORTED_MODULE_4__.b.CONTROLS.FULL_BODY.ZOOM_TARGET,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_4__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,cameraTarget:_index__WEBPACK_IMPORTED_MODULE_4__.b.TARGET.FULL_BODY.FEMALE,bloom:{luminanceThreshold:1,luminanceSmoothing:1,mipmapBlur:!0,kernelSize:1,intensity:.1,materialIntensity:3.3},emotion:emotions.smile,style:{background:"rgb(9,20,26)"},onLoaded:function onLoaded(){return console.info("EVENT: static avatar loaded")},onLoading:function onLoading(){return console.info("EVENT: loading static avatar")}},Static.argTypes={headMovement:{control:!1},halfBody:{control:!1},animationSrc:{control:!1},poseSrc:{control:!1}};var Animated=Template.bind({});Animated.args=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Static.args),{},{emotion:void 0,modelSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("male-emissive.glb"),animationSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("male-idle.glb"),cameraTarget:_index__WEBPACK_IMPORTED_MODULE_4__.b.TARGET.FULL_BODY.MALE,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_4__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,onLoaded:function onLoaded(){return console.info("EVENT: animated avatar loaded")},onLoading:function onLoading(){return console.info("EVENT: loading animated avatar")}}),Animated.argTypes={poseSrc:{control:!1},emotion:{control:!1}};var HalfBody=Template.bind({});HalfBody.args=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Static.args),{},{modelSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("half-body.glb"),halfBody:!0,cameraTarget:_index__WEBPACK_IMPORTED_MODULE_4__.b.TARGET.HALF_BODY,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_4__.b.INITIAL_DISTANCE.HALF_BODY,onLoaded:function onLoaded(){return console.info("EVENT: half body avatar loaded")},onLoading:function onLoading(){return console.info("EVENT: loading half body avatar")}});var Posing=Template.bind({});Posing.args=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Static.args),{},{modelSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("male.glb"),poseSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("male-pose-standing.glb"),cameraTarget:_index__WEBPACK_IMPORTED_MODULE_4__.b.TARGET.FULL_BODY.MALE,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_4__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,onLoaded:function onLoaded(){return console.info("EVENT: posing avatar loaded")},onLoading:function onLoading(){return console.info("EVENT: loading posing avatar")},emotion:emotions.smile}),Posing.argTypes={headMovement:{control:!1}};var _DragNDrop=function DropTemplate(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(src_components_FileDropper_FileDropper_component__WEBPACK_IMPORTED_MODULE_2__.s,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Avatar,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},args))})}.bind({});_DragNDrop.args=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Static.args),{},{modelSrc:void 0,animationSrc:void 0,poseSrc:"",environment:"city",cameraTarget:_index__WEBPACK_IMPORTED_MODULE_4__.b.TARGET.FULL_BODY.FEMALE,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_4__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,onLoaded:function onLoaded(){return console.info("EVENT: binary file loaded")},onLoading:function onLoading(){return console.info("EVENT: loading avatar from binary file")}}),_DragNDrop.argTypes={modelSrc:{control:!1},animationSrc:{control:!1},headMovement:{control:!1},environment:{control:{type:"text"}}},__webpack_exports__.default={title:"Components/Avatar",component:Avatar,argTypes:{ambientLightColor:{control:"color"},dirLightColor:{control:"color"},spotLightColor:{control:"color"},ambientLightIntensity:{control:{type:"range",min:0,max:20,step:.1}},dirLightIntensity:{control:{type:"range",min:0,max:20,step:.1}},spotLightIntensity:{control:{type:"range",min:0,max:20,step:.1}},spotLightAngle:{control:{type:"range",min:0,max:10,step:.01}},cameraTarget:{control:{type:"range",min:0,max:10,step:.01}},scale:{control:{type:"range",min:.01,max:10,step:.01}},cameraInitialDistance:{control:{type:"range",min:0,max:2.5,step:.01}},onLoaded:{control:!1},environment:{options:Object.keys(src_services_EnvironmentMap_service__WEBPACK_IMPORTED_MODULE_3__.s),control:{type:"select"}}}},Static.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Static.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},null===(_Static$parameters=Static.parameters)||void 0===_Static$parameters?void 0:_Static$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({originalSource:"args => <Avatar {...args} />"},null===(_Static$parameters2=Static.parameters)||void 0===_Static$parameters2||null===(_Static$parameters2$d=_Static$parameters2.docs)||void 0===_Static$parameters2$d?void 0:_Static$parameters2$d.source)})}),Animated.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Animated.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},null===(_Animated$parameters=Animated.parameters)||void 0===_Animated$parameters?void 0:_Animated$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({originalSource:"args => <Avatar {...args} />"},null===(_Animated$parameters2=Animated.parameters)||void 0===_Animated$parameters2||null===(_Animated$parameters3=_Animated$parameters2.docs)||void 0===_Animated$parameters3?void 0:_Animated$parameters3.source)})}),HalfBody.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},HalfBody.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},null===(_HalfBody$parameters=HalfBody.parameters)||void 0===_HalfBody$parameters?void 0:_HalfBody$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({originalSource:"args => <Avatar {...args} />"},null===(_HalfBody$parameters2=HalfBody.parameters)||void 0===_HalfBody$parameters2||null===(_HalfBody$parameters3=_HalfBody$parameters2.docs)||void 0===_HalfBody$parameters3?void 0:_HalfBody$parameters3.source)})}),Posing.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},Posing.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},null===(_Posing$parameters=Posing.parameters)||void 0===_Posing$parameters?void 0:_Posing$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({originalSource:"args => <Avatar {...args} />"},null===(_Posing$parameters2=Posing.parameters)||void 0===_Posing$parameters2||null===(_Posing$parameters2$d=_Posing$parameters2.docs)||void 0===_Posing$parameters2$d?void 0:_Posing$parameters2$d.source)})}),_DragNDrop.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},_DragNDrop.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},null===(_DragNDrop$parameters=_DragNDrop.parameters)||void 0===_DragNDrop$parameters?void 0:_DragNDrop$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({originalSource:"args => <FileDropper>\n    <Avatar {...args} />\n  </FileDropper>"},null===(_DragNDrop$parameters2=_DragNDrop.parameters)||void 0===_DragNDrop$parameters2||null===(_DragNDrop$parameters3=_DragNDrop$parameters2.docs)||void 0===_DragNDrop$parameters3?void 0:_DragNDrop$parameters3.source)})});var __namedExportsOrder=["Static","Animated","HalfBody","Posing","_DragNDrop"]},"./src/components/FileDropper/FileDropper.component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{s:function(){return FileDropper}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),FileDropper_module_fileDropContainer="FileDropper_fileDropContainer__-KZmt",FileDropper_module_placeholder="FileDropper_placeholder__zVZlo",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),FileDropper=function FileDropper(_ref){var children=_ref.children,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"Drag n' Drop a .glb model here, then Drop an animation .glb or .fbx":_ref$placeholder,ref=(0,react.useRef)(null),_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.Z)(_useState,2),modelSrc=_useState2[0],setModelSrc=_useState2[1],_useState3=(0,react.useState)(""),_useState4=(0,slicedToArray.Z)(_useState3,2),animationSrc=_useState4[0],setAnimationSrc=_useState4[1],getBase64=function getBase64(file){return new Promise((function(resolve,reject){var reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(){return resolve(reader.result)},reader.onerror=function(error){return reject(error)}}))},handleDrag=function handleDrag(e){e.preventDefault(),e.stopPropagation()},handleDragIn=function handleDragIn(e){e.preventDefault(),e.stopPropagation()},handleDragOut=function handleDragOut(e){e.preventDefault(),e.stopPropagation()},handleDrop=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(e){var _e$dataTransfer,_name,_name2,file;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(e.preventDefault(),e.stopPropagation(),"file"!==(null===(_e$dataTransfer=e.dataTransfer)||void 0===_e$dataTransfer?void 0:_e$dataTransfer.items[0].kind)){_context.next=18;break}if(file=e.dataTransfer.items[0].getAsFile(),null!==(_name=file.name)&&void 0!==_name&&_name.endsWith(".glb")||null!==(_name2=file.name)&&void 0!==_name2&&_name2.endsWith(".fbx")){_context.next=6;break}return _context.abrupt("return");case 6:if(""!==modelSrc){_context.next=12;break}return _context.t0=setModelSrc,_context.next=10,getBase64(file);case 10:_context.t1=_context.sent,(0,_context.t0)(_context.t1);case 12:if(""===modelSrc){_context.next=18;break}return _context.t2=setAnimationSrc,_context.next=16,getBase64(file);case 16:_context.t3=_context.sent,(0,_context.t2)(_context.t3);case 18:case"end":return _context.stop()}}),_callee)})));return function handleDrop(_x){return _ref2.apply(this,arguments)}}();return(0,react.useEffect)((function(){var element=ref.current;return element.addEventListener("dragenter",handleDragIn),element.addEventListener("dragleave",handleDragOut),element.addEventListener("dragover",handleDrag),element.addEventListener("drop",handleDrop),function(){element.removeEventListener("dragenter",handleDragIn),element.removeEventListener("dragleave",handleDragOut),element.removeEventListener("dragover",handleDrag),element.removeEventListener("drop",handleDrop)}})),(0,jsx_runtime.jsx)("div",{className:FileDropper_module_fileDropContainer,ref:ref,children:modelSrc.length<1?(0,jsx_runtime.jsx)("div",{className:FileDropper_module_placeholder,children:placeholder}):react.Children.map(react.Children.toArray(children),(function(child){return(0,react.cloneElement)(child,{modelSrc:modelSrc,animationSrc:animationSrc})}))})};FileDropper.__docgenInfo={description:"This component is only for using in Storybook for showcasing drag'n'drop functionality.",methods:[],displayName:"FileDropper",props:{placeholder:{defaultValue:{value:"`Drag n' Drop a .glb model here, then Drop an animation .glb or .fbx`",computed:!1},required:!1}}}}}]);