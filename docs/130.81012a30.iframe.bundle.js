"use strict";(self.webpackChunk_readyplayerme_visage=self.webpackChunk_readyplayerme_visage||[]).push([[130],{"./node_modules/@react-three/drei/core/Sparkles.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{P:function(){return Sparkles}});var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/react/index.js"),three_module=__webpack_require__("./node_modules/three/build/three.module.js"),index_673ef987_esm=__webpack_require__("./node_modules/@react-three/fiber/dist/index-673ef987.esm.js");const SparklesImplMaterial=function shaderMaterial(uniforms,vertexShader,fragmentShader,onInit){const material=class material extends three_module.ShaderMaterial{constructor(parameters={}){const entries=Object.entries(uniforms);super({uniforms:entries.reduce(((acc,[name,value])=>({...acc,...three_module.UniformsUtils.clone({[name]:{value:value}})})),{}),vertexShader:vertexShader,fragmentShader:fragmentShader}),this.key="",entries.forEach((([name])=>Object.defineProperty(this,name,{get:()=>this.uniforms[name].value,set:v=>this.uniforms[name].value=v}))),Object.assign(this,parameters),onInit&&onInit(this)}};return material.key=three_module.MathUtils.generateUUID(),material}({time:0,pixelRatio:1}," uniform float pixelRatio;\n    uniform float time;\n    attribute float size;  \n    attribute float speed;  \n    attribute float opacity;\n    attribute vec3 noise;\n    attribute vec3 color;\n    varying vec3 vColor;\n    varying float vOpacity;\n    void main() {\n      vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n      modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;\n      modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;\n      modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;\n      vec4 viewPosition = viewMatrix * modelPosition;\n      vec4 projectionPostion = projectionMatrix * viewPosition;\n      gl_Position = projectionPostion;\n      gl_PointSize = size * 25. * pixelRatio;\n      gl_PointSize *= (1.0 / - viewPosition.z);\n      vColor = color;\n      vOpacity = opacity;\n    }"," varying vec3 vColor;\n    varying float vOpacity;\n    void main() {\n      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n      float strength = 0.05 / distanceToCenter - 0.1;\n      gl_FragColor = vec4(vColor, strength * vOpacity);\n      #include <tonemapping_fragment>\n      #include <encodings_fragment>\n    }"),isFloat32Array=def=>def&&def.constructor===Float32Array,isVector=v=>v instanceof three_module.Vector2||v instanceof three_module.Vector3||v instanceof three_module.Vector4,normalizeVector=v=>Array.isArray(v)?v:isVector(v)?v.toArray():[v,v,v];function usePropAsIsOrAsAttribute(count,prop,setDefault){return react.useMemo((()=>{if(void 0!==prop){if(isFloat32Array(prop))return prop;if(prop instanceof three_module.Color){const a=Array.from({length:3*count},(()=>{return[(v=prop).r,v.g,v.b];var v})).flat();return Float32Array.from(a)}if(isVector(prop)||Array.isArray(prop)){const a=Array.from({length:3*count},(()=>normalizeVector(prop))).flat();return Float32Array.from(a)}return Float32Array.from({length:count},(()=>prop))}return Float32Array.from({length:count},setDefault)}),[prop])}const Sparkles=react.forwardRef((({noise:noise=1,count:count=100,speed:speed=1,opacity:opacity=1,scale:scale=1,size:size,color:color,children:children,...props},forwardRef)=>{react.useMemo((()=>(0,index_673ef987_esm.e)({SparklesImplMaterial:SparklesImplMaterial})),[]);const ref=react.useRef(null),dpr=(0,index_673ef987_esm.z)((state=>state.viewport.dpr)),_scale=normalizeVector(scale),positions=react.useMemo((()=>Float32Array.from(Array.from({length:count},(()=>_scale.map(three_module.MathUtils.randFloatSpread))).flat())),[count,..._scale]),sizes=usePropAsIsOrAsAttribute(count,size,Math.random),opacities=usePropAsIsOrAsAttribute(count,opacity),speeds=usePropAsIsOrAsAttribute(count,speed),noises=usePropAsIsOrAsAttribute(3*count,noise),colors=usePropAsIsOrAsAttribute(void 0===color?3*count:count,isFloat32Array(color)?color:new three_module.Color(color),(()=>1));return(0,index_673ef987_esm.A)((state=>{ref.current&&ref.current.material&&(ref.current.material.time=state.clock.elapsedTime)})),react.useImperativeHandle(forwardRef,(()=>ref.current),[]),react.createElement("points",(0,esm_extends.Z)({key:`particle-${count}-${JSON.stringify(scale)}`},props,{ref:ref}),react.createElement("bufferGeometry",null,react.createElement("bufferAttribute",{attach:"attributes-position",args:[positions,3]}),react.createElement("bufferAttribute",{attach:"attributes-size",args:[sizes,1]}),react.createElement("bufferAttribute",{attach:"attributes-opacity",args:[opacities,1]}),react.createElement("bufferAttribute",{attach:"attributes-speed",args:[speeds,1]}),react.createElement("bufferAttribute",{attach:"attributes-color",args:[colors,3]}),react.createElement("bufferAttribute",{attach:"attributes-noise",args:[noises,3]})),children||react.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:dpr,depthWrite:!1}))}))},"./src/components/Avatar/Avatar.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Animated:function(){return Animated},HalfBody:function(){return HalfBody},Showcase:function(){return Showcase},Static:function(){return Static},_DragNDrop:function(){return _DragNDrop},__namedExportsOrder:function(){return __namedExportsOrder}});var _Static$parameters,_Static$parameters2,_Static$parameters2$d,_Showcase$parameters,_Showcase$parameters2,_Showcase$parameters3,_Animated$parameters,_Animated$parameters2,_Animated$parameters3,_HalfBody$parameters,_HalfBody$parameters2,_HalfBody$parameters3,_DragNDrop$parameters,_DragNDrop$parameters2,_DragNDrop$parameters3,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),src_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/services/index.ts"),three__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/three/build/three.module.js"),_react_three_drei__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@react-three/drei/core/Sparkles.js"),src_components_FileDropper_FileDropper_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/FileDropper/FileDropper.component.tsx"),src_services_Environment_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/services/Environment.service.ts"),src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/services/Stories.service.ts"),_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Avatar/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Avatar=function Avatar(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_index__WEBPACK_IMPORTED_MODULE_5__.q,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},args),{},{children:args.children}))},Sparkles=function Sparkles(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_react_three_drei__WEBPACK_IMPORTED_MODULE_8__.P,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},args))},Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(Avatar,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},args))},Static=Template.bind({});Static.args={modelSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("female.glb"),animationSrc:void 0,poseSrc:void 0,environment:"hub",scale:1,shadows:!0,idleRotation:!1,headMovement:!1,ambientLightColor:"#fff5b6",dirLightColor:"#002aff",spotLightColor:"#fff5b6",ambientLightIntensity:.25,dirLightIntensity:5,spotLightIntensity:1,dirLightPosition:new three__WEBPACK_IMPORTED_MODULE_9__.Vector3(-3,5,-5),spotLightPosition:new three__WEBPACK_IMPORTED_MODULE_9__.Vector3(12,10,7.5),spotLightAngle:.314,fov:50,cameraZoomTarget:_index__WEBPACK_IMPORTED_MODULE_5__.b.CONTROLS.FULL_BODY.ZOOM_TARGET,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_5__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,cameraTarget:_index__WEBPACK_IMPORTED_MODULE_5__.b.TARGET.FULL_BODY.FEMALE,bloom:{luminanceThreshold:1,luminanceSmoothing:1,mipmapBlur:!0,kernelSize:1,intensity:.1,materialIntensity:3.3},background:{color:"rgb(9,20,26)"},style:{},onLoaded:function onLoaded(){return console.info("EVENT: static avatar loaded")},onLoading:function onLoading(){return console.info("EVENT: loading static avatar")}},Static.argTypes={headMovement:{control:!1},halfBody:{control:!1},animationSrc:{control:!1},poseSrc:{control:!1},fov:{control:{type:"range",min:30,max:100,step:1}}};var Showcase=function Showcase(args){var _args$bloom,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null===(_args$bloom=args.bloom)||void 0===_args$bloom?void 0:_args$bloom.materialIntensity),_useState2=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__.Z)(_useState,2),currentValue=_useState2[0],setCurrentValue=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),_useState4=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_10__.Z)(_useState3,2),increasing=_useState4[0],setIncreasing=_useState4[1],pulsatingBloom=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},args.bloom),{},{intensity:1,materialIntensity:currentValue});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var animationInterval=setInterval((function(){null!=args&&args.ambientOcclusion||setCurrentValue(increasing?function(prevValue){var newValue=prevValue+.3;return newValue>=9?(setIncreasing(!1),9):newValue}:function(prevValue){var newValue=prevValue-.3;return newValue<=1?(setIncreasing(!0),1):newValue})}),60);return function(){return clearInterval(animationInterval)}}),[currentValue,increasing,1,9,null==args?void 0:args.ambientOcclusion]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(Avatar,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},args),{},{effects:{ambientOcclusion:null==args?void 0:args.ambientOcclusion,bloom:pulsatingBloom},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(Sparkles,{color:"white",count:50,opacity:.9,scale:5,size:.5,speed:.35})}))};Showcase.args={cameraTarget:_index__WEBPACK_IMPORTED_MODULE_5__.b.TARGET.FULL_BODY.FEMALE,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_5__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,modelSrc:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.HI.one,animationSrc:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.jb.one,scale:1,bloom:{luminanceThreshold:1,luminanceSmoothing:1,mipmapBlur:!0,kernelSize:1,intensity:1,materialIntensity:1},background:{color:"#282038"},dpr:2,ambientLightColor:"#ffffff",dirLightColor:"#ffffff",spotLightColor:"#adbfe5",ambientLightIntensity:0,dirLightIntensity:2.2,spotLightIntensity:.5,environment:"apartment",shadows:!1,emotion:{jawOpen:.1,mouthSmileLeft:.2,mouthSmileRight:.1,mouthPressLeft:.1,cheekSquintLeft:.3,eyeLookOutLeft:.6,eyeLookInRight:.6,mouthDimpleLeft:.3},ambientOcclusion:!1},Showcase.argTypes=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.nx),{},{modelSrc:{options:Object.values(src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.HI),control:{type:"select"}},animationSrc:{options:Object.values(src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.jb),control:{type:"select"}},environment:{table:{disable:!0}},ambientLightColor:{table:{disable:!0}},dirLightColor:{table:{disable:!0}},spotLightColor:{table:{disable:!0}},ambientLightIntensity:{table:{disable:!0}},dirLightIntensity:{table:{disable:!0}},spotLightIntensity:{table:{disable:!0}},fov:{table:{disable:!0}}});var Animated=Template.bind({});Animated.args=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},Static.args),{},{modelSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("male-emissive.glb"),animationSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("male-idle.glb"),cameraTarget:_index__WEBPACK_IMPORTED_MODULE_5__.b.TARGET.FULL_BODY.MALE,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_5__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,emotion:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.eE.idle,onLoaded:function onLoaded(){return console.info("EVENT: animated avatar loaded")},onLoading:function onLoading(){return console.info("EVENT: loading animated avatar")}}),Animated.argTypes={poseSrc:{control:!1},emotion:{options:{idle:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.eE.idle,angry:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.eE.angry,smile:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.eE.smile,sad:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.eE.sad},defaultValue:src_services_Stories_service__WEBPACK_IMPORTED_MODULE_4__.eE.idle,control:{type:"select"}},fov:{control:{type:"range",min:30,max:100,step:1}}};var HalfBody=Template.bind({});HalfBody.args=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},Static.args),{},{modelSrc:(0,src_services__WEBPACK_IMPORTED_MODULE_1__.gT)("half-body.glb"),halfBody:!0,cameraTarget:_index__WEBPACK_IMPORTED_MODULE_5__.b.TARGET.HALF_BODY,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_5__.b.INITIAL_DISTANCE.HALF_BODY,onLoaded:function onLoaded(){return console.info("EVENT: half body avatar loaded")},onLoading:function onLoading(){return console.info("EVENT: loading half body avatar")}});var _DragNDrop=function DropTemplate(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(src_components_FileDropper_FileDropper_component__WEBPACK_IMPORTED_MODULE_2__.s,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(Avatar,(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},args))})}.bind({});_DragNDrop.args=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},Static.args),{},{modelSrc:void 0,animationSrc:void 0,poseSrc:"",environment:"city",cameraTarget:_index__WEBPACK_IMPORTED_MODULE_5__.b.TARGET.FULL_BODY.FEMALE,cameraInitialDistance:_index__WEBPACK_IMPORTED_MODULE_5__.b.CONTROLS.FULL_BODY.MAX_DISTANCE,onLoaded:function onLoaded(){return console.info("EVENT: binary file loaded")},onLoading:function onLoading(){return console.info("EVENT: loading avatar from binary file")}}),_DragNDrop.argTypes={modelSrc:{control:!1},animationSrc:{control:!1},headMovement:{control:!1},environment:{control:{type:"text"}}},__webpack_exports__.default={title:"Components/Avatar",component:Avatar,argTypes:{ambientLightColor:{control:"color"},dirLightColor:{control:"color"},spotLightColor:{control:"color"},ambientLightIntensity:{control:{type:"range",min:0,max:20,step:.1}},dirLightIntensity:{control:{type:"range",min:0,max:20,step:.1}},spotLightIntensity:{control:{type:"range",min:0,max:20,step:.1}},spotLightAngle:{control:{type:"range",min:0,max:10,step:.01}},cameraTarget:{control:{type:"range",min:0,max:10,step:.01}},scale:{control:{type:"range",min:.01,max:10,step:.01}},cameraInitialDistance:{control:{type:"range",min:0,max:2.5,step:.01}},onLoaded:{control:!1},environment:{options:Object.keys(src_services_Environment_service__WEBPACK_IMPORTED_MODULE_3__.s$),control:{type:"select"}},fov:{control:{type:"range",min:30,max:100,step:1}}}},Static.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},Static.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},null===(_Static$parameters=Static.parameters)||void 0===_Static$parameters?void 0:_Static$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({originalSource:"args => <Avatar {...args} />"},null===(_Static$parameters2=Static.parameters)||void 0===_Static$parameters2||null===(_Static$parameters2$d=_Static$parameters2.docs)||void 0===_Static$parameters2$d?void 0:_Static$parameters2$d.source)})}),Showcase.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},Showcase.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},null===(_Showcase$parameters=Showcase.parameters)||void 0===_Showcase$parameters?void 0:_Showcase$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({originalSource:'(args: AvatarProps & {\n  ambientOcclusion?: boolean;\n}) => {\n  const [currentValue, setCurrentValue] = useState(args.bloom?.materialIntensity);\n  const [increasing, setIncreasing] = useState(true);\n  const pulsatingBloom = {\n    ...args.bloom,\n    intensity: 1.0,\n    materialIntensity: currentValue\n  };\n  useEffect(() => {\n    const animationInterval = setInterval(() => {\n      if (args?.ambientOcclusion) {\n        return;\n      }\n      if (increasing) {\n        setCurrentValue(prevValue => {\n          const newValue = prevValue! + stepSize;\n          if (newValue >= maxValue) {\n            setIncreasing(false);\n            return maxValue;\n          }\n          return newValue;\n        });\n      } else {\n        setCurrentValue(prevValue => {\n          const newValue = prevValue! - stepSize;\n          if (newValue <= initialValue) {\n            setIncreasing(true);\n            return initialValue;\n          }\n          return newValue;\n        });\n      }\n    }, animationUpdateStepMs);\n    return () => clearInterval(animationInterval);\n  }, [currentValue, increasing, initialValue, maxValue, args?.ambientOcclusion]);\n  return <Avatar {...args} effects={{\n    ambientOcclusion: args?.ambientOcclusion,\n    bloom: pulsatingBloom\n  }}>\n      <Sparkles color="white" count={50} opacity={0.9} scale={5} size={0.5} speed={0.35} />\n    </Avatar>;\n}'},null===(_Showcase$parameters2=Showcase.parameters)||void 0===_Showcase$parameters2||null===(_Showcase$parameters3=_Showcase$parameters2.docs)||void 0===_Showcase$parameters3?void 0:_Showcase$parameters3.source)})}),Animated.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},Animated.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},null===(_Animated$parameters=Animated.parameters)||void 0===_Animated$parameters?void 0:_Animated$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({originalSource:"args => <Avatar {...args} />"},null===(_Animated$parameters2=Animated.parameters)||void 0===_Animated$parameters2||null===(_Animated$parameters3=_Animated$parameters2.docs)||void 0===_Animated$parameters3?void 0:_Animated$parameters3.source)})}),HalfBody.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},HalfBody.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},null===(_HalfBody$parameters=HalfBody.parameters)||void 0===_HalfBody$parameters?void 0:_HalfBody$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({originalSource:"args => <Avatar {...args} />"},null===(_HalfBody$parameters2=HalfBody.parameters)||void 0===_HalfBody$parameters2||null===(_HalfBody$parameters3=_HalfBody$parameters2.docs)||void 0===_HalfBody$parameters3?void 0:_HalfBody$parameters3.source)})}),_DragNDrop.parameters=(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},_DragNDrop.parameters),{},{docs:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},null===(_DragNDrop$parameters=_DragNDrop.parameters)||void 0===_DragNDrop$parameters?void 0:_DragNDrop$parameters.docs),{},{source:(0,_home_runner_work_visage_visage_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({originalSource:"args => <FileDropper>\n    <Avatar {...args} />\n  </FileDropper>"},null===(_DragNDrop$parameters2=_DragNDrop.parameters)||void 0===_DragNDrop$parameters2||null===(_DragNDrop$parameters3=_DragNDrop$parameters2.docs)||void 0===_DragNDrop$parameters3?void 0:_DragNDrop$parameters3.source)})});var __namedExportsOrder=["Static","Showcase","Animated","HalfBody","_DragNDrop"];Showcase.__docgenInfo={description:"",methods:[],displayName:"Showcase",props:{ambientOcclusion:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/components/FileDropper/FileDropper.component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{s:function(){return FileDropper}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),FileDropper_module_fileDropContainer="FileDropper_fileDropContainer__-KZmt",FileDropper_module_placeholder="FileDropper_placeholder__zVZlo",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),FileDropper=function FileDropper(_ref){var children=_ref.children,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"Drag n' Drop a .glb model here, then Drop an animation .glb or .fbx":_ref$placeholder,ref=(0,react.useRef)(null),_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.Z)(_useState,2),modelSrc=_useState2[0],setModelSrc=_useState2[1],_useState3=(0,react.useState)(""),_useState4=(0,slicedToArray.Z)(_useState3,2),animationSrc=_useState4[0],setAnimationSrc=_useState4[1],getBase64=function getBase64(file){return new Promise((function(resolve,reject){var reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(){return resolve(reader.result)},reader.onerror=function(error){return reject(error)}}))},handleDrag=function handleDrag(e){e.preventDefault(),e.stopPropagation()},handleDragIn=function handleDragIn(e){e.preventDefault(),e.stopPropagation()},handleDragOut=function handleDragOut(e){e.preventDefault(),e.stopPropagation()},handleDrop=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(e){var _e$dataTransfer,_name,_name2,file;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(e.preventDefault(),e.stopPropagation(),"file"!==(null===(_e$dataTransfer=e.dataTransfer)||void 0===_e$dataTransfer?void 0:_e$dataTransfer.items[0].kind)){_context.next=18;break}if(file=e.dataTransfer.items[0].getAsFile(),null!==(_name=file.name)&&void 0!==_name&&_name.endsWith(".glb")||null!==(_name2=file.name)&&void 0!==_name2&&_name2.endsWith(".fbx")){_context.next=6;break}return _context.abrupt("return");case 6:if(""!==modelSrc){_context.next=12;break}return _context.t0=setModelSrc,_context.next=10,getBase64(file);case 10:_context.t1=_context.sent,(0,_context.t0)(_context.t1);case 12:if(""===modelSrc){_context.next=18;break}return _context.t2=setAnimationSrc,_context.next=16,getBase64(file);case 16:_context.t3=_context.sent,(0,_context.t2)(_context.t3);case 18:case"end":return _context.stop()}}),_callee)})));return function handleDrop(_x){return _ref2.apply(this,arguments)}}();return(0,react.useEffect)((function(){var element=ref.current;return element.addEventListener("dragenter",handleDragIn),element.addEventListener("dragleave",handleDragOut),element.addEventListener("dragover",handleDrag),element.addEventListener("drop",handleDrop),function(){element.removeEventListener("dragenter",handleDragIn),element.removeEventListener("dragleave",handleDragOut),element.removeEventListener("dragover",handleDrag),element.removeEventListener("drop",handleDrop)}})),(0,jsx_runtime.jsx)("div",{className:FileDropper_module_fileDropContainer,ref:ref,children:modelSrc.length<1?(0,jsx_runtime.jsx)("div",{className:FileDropper_module_placeholder,children:placeholder}):react.Children.map(react.Children.toArray(children),(function(child){return(0,react.cloneElement)(child,{modelSrc:modelSrc,animationSrc:animationSrc})}))})};FileDropper.__docgenInfo={description:"This component is only for using in Storybook for showcasing drag'n'drop functionality.",methods:[],displayName:"FileDropper",props:{placeholder:{defaultValue:{value:"`Drag n' Drop a .glb model here, then Drop an animation .glb or .fbx`",computed:!1},required:!1}}}},"./src/services/Stories.service.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{HI:function(){return modelPresets},eE:function(){return emotions},jb:function(){return animationPresets},nx:function(){return ignoreArgTypesOnExamples}});var _Models_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/services/Models.service.tsx"),disableTable={table:{disable:!0}},ignoreArgTypesOnExamples=["modelSrc","animationSrc","poseSrc","halfBody","shadows","cameraTarget","cameraInitialDistance","style","idleRotation","emotion","background","capture","loader","dpr","className","headMovement","cameraZoomTarget","bloom","onLoadedEffect","onLoadedAnimation","children","environment","ambientLightColor","dirLightColor","spotLightColor","ambientLightIntensity","dirLightIntensity","spotLightIntensity","spotLightAngle","onLoaded","onLoading","fov","spotLightPosition","dirLightPosition","scale"].reduce((function(acc,key){return acc[key]=disableTable,acc}),{}),modelPresets={one:"https://models.readyplayer.me/64d61e9e17883fd73ebe5eb7.glb?morphTargets=ARKit,Eyes Extra&textureAtlas=none&lod=0",two:"https://models.readyplayer.me/64d61f67f0367d07504924be.glb?morphTargets=ARKit,Eyes Extra&textureAtlas=none&lod=0",three:"https://models.readyplayer.me/64d62255f0367d0750492913.glb?lod=0&morphTargets=ARKit,Eyes Extra&textureAtlas=none",five:"https://models.readyplayer.me/64d6235e2d3bea6e4267b01d.glb?lod=0&morphTargets=ARKit,Eyes Extra&textureAtlas=none",six:"https://models.readyplayer.me/64d5d4eb651a0d350005c672.glb?lod=0&morphTargets=ARKit,Eyes Extra&textureAtlas=none",seven:"https://models.readyplayer.me/64e3055495439dfcf3f0b665.glb?morphTargets=ARKit,Eyes%20Extra&textureAtlas=none"},animationPresets={one:(0,_Models_service__WEBPACK_IMPORTED_MODULE_0__.gT)("male-idle-1.fbx"),two:(0,_Models_service__WEBPACK_IMPORTED_MODULE_0__.gT)("male-idle-2.fbx"),three:(0,_Models_service__WEBPACK_IMPORTED_MODULE_0__.gT)("male-idle-3.fbx")},emotions={idle:{},angry:{mouthDimpleLeft:.48,mouthShrugLower:.385,eyeSquintLeft:.63,eyeSquintRight:.614,browDownLeft:.842,browDownRight:.56,noseSneerLeft:.3,noseSneerRight:.3},smile:{eyeSquintLeft:.4,eyeSquintRight:.2,mouthSmileLeft:.37,mouthSmileRight:.36,mouthShrugUpper:.27,browInnerUp:.3,browOuterUpLeft:.37,browOuterUpRight:.49},sad:{eyeWideLeft:.5,eyeWideRight:.4,mouthPucker:.19,mouthFrownLeft:.6,mouthFrownRight:.6,mouthRollLower:.33,mouthRollUpper:.02,mouthShrugLower:.4,browInnerUp:.78,noseSneerLeft:.115,noseSneerRight:.1}}}}]);